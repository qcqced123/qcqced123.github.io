---
title: "ğŸ—‚ï¸ Graph Theory 4: Union-Find (Disjoint Set)"
excerpt: "Union-Find Algorithm with Disjoint Set"
permalink: "/algorithm/union-find"
toc: true  # option for table of contents
toc_sticky: true  # option for table of content
categories:
  - Algorithm
tags:
  - Python
  - Codeing Test
  - Algorithm
  - Union-Find
last_modified_at: 2023-11-11T12:00:00-05:00
---

### `ğŸ™…Â Disjoint Set`



ì„œë¡œ ê³µí†µëœ ì›ì†Œë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šì€ ì—¬ëŸ¬ ì§‘í•©ë“¤ì„ ì§€ì¹­í•˜ëŠ” ìš©ì–´ë‹¤. ê°œë³„ ì›ì†Œê°€ ì •í™•íˆ í•˜ë‚˜ì˜ ì§‘í•©ì— ì†í•˜ë©°, ì–´ë–¤ ì§‘í•©ë„ ì„œë¡œ ê³µí†µ ì›ì†Œë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šì•„ì•¼ í•œë‹¤. ì„œë¡œì†Œ ì§‘í•© ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë¡œ ë‹¤ë¥¸ ì›ì†Œë“¤ì´ ê°™ì€ ì§‘í•©êµ°ì— ì†í•´ ìˆëŠ”ê°€ íŒë³„í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ì‘ì—…ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì´ì œë¶€í„° ìë£Œêµ¬ì¡°ë¡œì„œ ì„œë¡œì†Œ ì§‘í•©ì„ íš¨ê³¼ì ìœ¼ë¡œ í‘œí˜„í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆëŠ” `Makeset`, `Union`, `Find` ì—°ì‚°ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.

### `ğŸ—‚ï¸Â Makeset`

íŠ¸ë¦¬ ìë£Œêµ¬ì¡°ë¥¼ í™œìš©í•´ ì§‘í•©ì„ í‘œí˜„í•˜ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜ë¡œ, ì£¼ì–´ì§„ ìš”ì†Œë§Œ ì¤‘ë³µì—†ì´ í¬í•¨í•˜ëŠ” ì§‘í•©ì„ ìƒì„±í•˜ëŠ” ì—°ì‚°ì´ë‹¤. ì‹¤ì œ ì½”ë“œìƒ êµ¬í˜„ìœ¼ë¡œëŠ” ë°°ì—´, ë¦¬ìŠ¤íŠ¸ ìë£Œêµ¬ì¡°ë¥¼ í™œìš©í•œë‹¤. ë°°ì—´ì˜ ì¸ë±ìŠ¤ë¥¼ ê°œë³„ ì›ì†Œì˜ ì‹ë³„ìë¡œ ê°„ì£¼í•˜ê³  í•´ë‹¹ ìœ„ì¹˜ì˜ ê°’ì—ëŠ” ë¶€ëª¨ ì›ì†Œì˜ ì¸ë±ìŠ¤ë¥¼ ì±„ì›Œ ë„£ëŠ”ë‹¤. ë§Œì•½ ì¸ë±ìŠ¤ì™€ ì›ì†Œê°’ì´ ë™ì¼í•˜ë‹¤ë©´ í•´ë‹¹ ì›ì†Œê°€ í¬í•¨ëœ ì§‘í•©ì—ì„œ í˜„ì¬ ì›ì†Œê°€ ë£¨íŠ¸ ë…¸ë“œì„ì„ ì˜ë¯¸í•œë‹¤. ì´ë ‡ê²Œ íŠ¹ì • ì¸ë±ìŠ¤ì˜ ì›ì†Œê°’ì„ íƒ€ê³  ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ë‹¤ë©´ ë§Œë‚˜ê²Œ ë˜ëŠ” ë£¨íŠ¸ ë…¸ë“œì˜ ê°’ì„ ì´ìš©í•´ ìš°ë¦¬ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë‘ ì›ì†Œê°€ ê°™ì€ ì§‘í•©ì— ì†í•˜ëŠ”ì§€ í˜¹ì€ ë‹¤ë¥¸ ì§‘í•©ì— ì†í•˜ëŠ”ì§€ êµ¬ë³„í•  ìˆ˜ ìˆê²Œ ëœë‹¤. 

```python
""" Disjoint Makeset Example """

N = int(sys.stdin.readline()) # ë…¸ë“œ ê°œìˆ˜
M = int(sys.stdin.readline()) # ì—£ì§€ ê°œìˆ˜
parent = [0]*(N+1)

# 1) Makeset Array Init
for i in range(1, N+1):
    parent[i] = i
```

ë°°ì—´ì˜ ì¸ë±ìŠ¤ë¥¼ ê°œë³„ ë…¸ë“œì˜ ì‹ë³„ìë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´, ì „ì²´ ê·¸ë˜í”„ ìƒì˜ ë…¸ë“œ ê°œìˆ˜ë§Œí¼ ë°°ì—´ì˜ í¬ê¸°ë¥¼ ì´ˆê¸°í™” í•´ì£¼ê³  ìˆë‹¤. ê·¸ë¦¬ê³  ì´ˆê¸°ì—ëŠ” ì•„ì§ ë…¸ë“œ ì‚¬ì´ì˜ ì—°ê²° ì •ë³´ì— ëŒ€í•´ì„œ ì£¼ì–´ì§„ê²Œ ì „í˜€ ì—†ê¸° ë•Œë¬¸ì— ê°œë³„ ë…¸ë“œ ìì‹ ì´ ë£¨íŠ¸ ë…¸ë“œê°€ ë˜ë„ë¡ ì´ˆê¸°í™”ë¥¼ í•´ì£¼ëŠ”ê²Œ ì¼ë°˜ì ì´ë‹¤. ì´ë ‡ê²Œ ì´ˆê¸°í™”í•œ ë°°ì—´ì€ `Union`, `Find` ì—°ì‚°ì— í™œìš©ëœë‹¤. 

### `ğŸ”¬Â Find`

ì–´ë–¤ ì›ì†Œê°€ ì†í•œ ì§‘í•©ì˜ ë£¨íŠ¸ ë…¸ë“œ ê°’ì„ ë°˜í™˜í•˜ëŠ” ì—°ì‚°ì´ë‹¤. `Find` ì—°ì‚°ì€ ì•ì„œ ì´ˆê¸°í™”í•œ `Makeset Array` ë¥¼ í•´ë‹¹ ì§‘í•©(íŠ¸ë¦¬)ì˜ ë£¨íŠ¸ ë…¸ë“œë¥¼ ë§Œë‚  ë•Œê¹Œì§€ ì¬ê·€ì ìœ¼ë¡œ ìˆœíšŒí•œë‹¤. ì‹¤ì œë¡œëŠ” ë‹¨ìˆœ ë£¨íŠ¸ ë…¸ë“œë¥¼ ë°˜í™˜í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šê³ , íŠ¹ì • ë‘ ì›ì†Œê°€ ê°™ì€ ì§‘í•©(íŠ¸ë¦¬)ì— ì†í•˜ëŠ”ì§€ ì•„ë‹ˆë©´ ì„œë¡œ ë‹¤ë¥¸ ì§‘í•©ì— ì†í•˜ëŠ”ì§€ íŒì •í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤. ì„œë¡œ ë‹¤ë¥¸ ë‘ ì›ì†Œë¥¼ `Find` ì—°ì‚°ìì— ë„£ì–´ì£¼ë©´ ê°ê°ì˜ ë£¨íŠ¸ ë…¸ë“œë¥¼ êµ¬í•  ìˆ˜ ìˆëŠ”ë°, ì´ ë•Œ ì„œë¡œ ê°™ì€ ë£¨íŠ¸ ë…¸ë“œê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ê°™ì€ ì§‘í•©ì´ë¼ê³  ê°„ì£¼í•˜ê³  ë‹¤ë¥´ë‹¤ë©´ ì„œë¡œ ì„œë¡œì†Œ ê´€ê³„ì— ìˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆë‹¤. 

```python
""" find method """

def find(arr: list, x: int) -> int:
    """ method for finding root node """
    if arr[x] != x:
        arr[x] = find(arr, arr[x])
    return arr[x]

# 1) Kruskal Algorithm
result = 0
for j in range(M):
    weight, start, final = graph[j]
    if find(parent, start) != find(parent, final):
        union(parent, start, final)
        result += weight
```

ìœ„ ì†ŒìŠ¤ì½”ë“œì²˜ëŸ¼ `Kruskal` Algorithmì²˜ëŸ¼ ìµœì†Œ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬ê°€ í•„ìš”í•œ ìƒí™©ì— ìì£¼ ì‚¬ìš©ëœë‹¤. ë˜í•œ ê·¼ë³¸ì´ íŠ¸ë¦¬ ìë£Œêµ¬ì¡°ì— ëŒ€í•œ ì—°ì‚°ì´ë¼ëŠ” ì ì„ í™œìš©í•´, íŠ¹ì • ê·¸ë˜í”„ì˜ ì‚¬ì´í´ ì—¬ë¶€ë¥¼ íŒì •í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œë„ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆë‹¤.

### `ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦Â Union`

ë‘ ê°œì˜ ì§‘í•©ì„ í•˜ë‚˜ë¡œ í•©ì¹˜ëŠ” ì—°ì‚°ì´ë‹¤. ì§‘í•©ì˜ ë£¨íŠ¸ ë…¸ë“œë¥¼ ë‹¤ë¥¸ ì§‘í•©ì˜ ë£¨íŠ¸ ë…¸ë“œ ì•„ë˜ì— ì—°ê²°í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•©ì¹œë‹¤. í•©ì¹˜ëŠ” ë°©ì‹ì—ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ë¡ ì´ ì¡´ì¬í•˜ëŠ”ë°, ì¼ë°˜ì ìœ¼ë¡œ ë£¨íŠ¸ ë…¸ë“œì˜ ë²ˆí˜¸ê°€ ë” ì‘ì€ ìª½ì— ë” í° ìª½ì˜ ì§‘í•©(íŠ¸ë¦¬)ë¥¼ ë¶™ì—¬ì£¼ëŠ” `Union by Rank` ë°©ì‹ì„ ë§ì´ ì‚¬ìš©í•œë‹¤. 

```python
""" union method """

def union(arr: list, x: int, y: int):
    """ method for union-find """
    x = find(arr, x)
    y = find(arr, y)
    if x < y:
        arr[y] = x
    else:
        arr[x] = y

# 1) Kruskal Algorithm
result = 0
for j in range(M):
    weight, start, final = graph[j]
    if find(parent, start) != find(parent, final):
        union(parent, start, final)
        result += weight

print(result)
```

ì—­ì‹œ ë§ˆì°¬ê°€ì§€ë¡œ ìµœì†Œ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬ê°€ í•„ìš”í•œ ìƒí™©ì— ìì£¼ ì‚¬ìš©ë˜ê³  ìˆìœ¼ë©°, ì£¼ë¡œ Findë¥¼ í†µí•´ ì„œë¡œì†Œ ì§‘í•© ê´€ê³„ì— ë†“ì¸ ì§‘í•©ë“¤ì„ íŒì •í•˜ê³ , ê·¸ë“¤ì„ í•˜ë‚˜ë¡œ í†µí•©ì‹œí‚¤ëŠ”ë° ìì£¼ ì“°ì¸ë‹¤.